(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{40:function(e,t,a){e.exports={large:"WeatherImage_large__1t55a",small:"WeatherImage_small__qX4aT"}},65:function(e,t,a){e.exports=a(95)},70:function(e,t,a){},71:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(11),o=a.n(c),i=(a(70),a(71),a(119)),l=a(126),u=a(118),m=a(122),s=a(14),d=a(115),h=a(127),p=a(117),f=a(17),E=a(27),b=a.n(E),y=a(38),O=a(39),j=a.n(O),g=a(60),w=a(36),v=a.n(w),W=a(54),T=a(125),S=Object(W.extendMoment)(v.a),_=function(e){var t=e.current;return{id:Object(T.a)(),weather:t.weather[0],temperature:t.temp.toFixed(0)+"\xb0C",dayName:C(t.dt)}},N=function(e){var t=e.daily;return Object(g.a)(t).slice(1,t.lenght).map((function(e){return{id:Object(T.a)(),dayName:C(e.dt),temperature:e.temp.day.toFixed(0)+"\xb0C",weather:e.weather[0]}}))},C=function(e){return S.unix(e).format("MMMM D")},k=function(){var e=S.range(S().subtract(5,"day"),S().subtract(1,"day"));return Array.from(e.by("day")).map((function(e){return S(e).format("X")}))},L="https://api.openweathermap.org/data/2.5/onecall",x="2edd39c7c1d23b84acf5634f1c6fd741",R=function(e,t,a){return j.a.get("".concat(L,"/timemachine?lat=").concat(e,"&lon=").concat(t,"&dt=").concat(a,"&units=metric&appid=").concat(x)).then((function(e){return e.data})).catch((function(e){return console.log("Error",e)}))},I=function(e){var t=e.cities,a=Object(r.useState)(null),c=Object(s.a)(a,2),o=c[0],i=c[1],l=Object(f.b)(),u=function(e,a){i(a),l({type:"SET_SELECTED_CITY",payload:t[a]}),l(function(e){var t=e.lat,a=e.lon;return function(){var e=Object(y.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.a.get("".concat(L,"?lat=").concat(t,"&lon=").concat(a,"&exclude=minutely,hourly&units=metric&appid=").concat(x)).then((function(e){r({type:"GET_CURRENT_WEATHER",payload:_(e.data)}),r({type:"GET_FORECAST_WEATHER",payload:N(e.data)})})).catch((function(e){return console.log("Error",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t[a].coord)),l(function(e){var t=e.lat,a=e.lon;return function(){var e=Object(y.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all(k().map((function(e){return R(t,a,e)}))).then((function(e){return r({type:"GET_HISTORICAL_WEATHER",payload:e.map((function(e){return{id:Object(T.a)(),dayName:C(e.current.dt),temperature:e.current.temp.toFixed(0)+"\xb0C",weather:e.current.weather[0]}}))})})).catch((function(e){return e}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t[a].coord))};return n.a.createElement(d.a,{component:"nav"},t.map((function(e,t){return n.a.createElement(h.a,{key:e.id,button:!0,selected:o===t,onClick:function(e){return u(0,t)}},n.a.createElement(p.a,{inset:!0,primary:e.name}))})))},A=a(33),M=a(120),F=a(121),H=a(123),B=a(28),G=Object(u.a)({root:{fontWeight:100,fontSize:100,color:A.a[800]}}),z=Object(u.a)({root:{fontSize:15,color:A.a[600]}}),D=function(e){var t=e.isLarge,a=e.children,r=G(),c=z();return n.a.createElement(B.a,{className:t?r.root:c.root},a)},Y=Object(u.a)({root:{fontSize:40,color:A.a[600]}}),q=Object(u.a)({root:{fontSize:15,color:A.a[600]}}),J=function(e){var t=e.children,a=e.isLarge,r=Y(),c=q();return n.a.createElement(B.a,{className:a?r.root:c.root},t)},P=a(40),U=a.n(P),X=function(e){var t=e.icon,a=e.description,r=e.isLarge,c="http://openweathermap.org/img/wn/".concat(t,"@2x.png");return n.a.createElement("img",{className:r?U.a.large:U.a.small,src:c,alt:a})},Q=function(e){var t=e.dayName,a=e.temperature,r=e.weather,c=e.isLarge;return n.a.createElement(n.a.Fragment,null,n.a.createElement(J,{isLarge:c},t),n.a.createElement(X,{icon:r.icon,description:r.description,isLarge:c}),n.a.createElement(D,{isLarge:c},a))},$=function(e){var t=e.weatherList,a=Object(u.a)({root:{width:"5rem",border:"1px solid black"}})();return n.a.createElement(i.a,{container:!0,justify:"center"},t.map((function(e){var t=e.dayName,r=e.temperature,c=e.weather,o=e.id;return n.a.createElement(i.a,{key:o,className:a.root,container:!0,item:!0,alignItems:"center",direction:"column"},n.a.createElement(Q,{dayName:t,temperature:r,weather:c,isLarge:!1}))})))},K=a(26),V=function(){var e=Object(u.a)({root:{fontSize:50,fontWeight:200,color:A.a[800]}})(),t=Object(u.a)({root:{fontSize:30,fontWeight:200,color:A.a[700]}})();return n.a.createElement(n.a.Fragment,null,n.a.createElement(B.a,{className:e.root},"Welcome to the weather app"),n.a.createElement(B.a,{className:t.root},"Select a city to show its weather"))},Z=function(){var e=Object(u.a)({root:{width:"40rem"}})(),t=Object(r.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(r.useState)(""),m=Object(s.a)(l,2),d=m[0],h=m[1],p=Object(r.useState)(!1),E=Object(s.a)(p,2),b=E[0],y=E[1],O=Object(r.useState)(!1),j=Object(s.a)(O,2),g=j[0],w=j[1],v=Object(f.c)((function(e){return{currentWeather:e.currentWeather,forecastedWeather:e.forecastedWeather,historicalWeather:e.historicalWeather}})),W=v.currentWeather,T=v.forecastedWeather,S=v.historicalWeather;Object(r.useEffect)((function(){Object(K.isEmpty)(W)||(h(W.temperature),o(W.dayName))}),[W]);var _=n.a.createElement(n.a.Fragment,null,n.a.createElement(Q,{dayName:c,temperature:d,weather:W.weather,isLarge:!0}),n.a.createElement(M.a,{row:!0},n.a.createElement(F.a,{control:n.a.createElement(H.a,{checked:b,onChange:function(){y(!b),w(!1)},name:"checkedB",color:"primary"}),label:"Show the last 5 days "}),n.a.createElement(F.a,{control:n.a.createElement(H.a,{checked:g,onChange:function(){w(!g),y(!1)},name:"checkedB",color:"primary"}),label:"Show forecasted 7 days"})),n.a.createElement("br",null),b&&n.a.createElement($,{weatherList:S}),g&&n.a.createElement($,{weatherList:T}));return n.a.createElement(i.a,{className:e.root,container:!0,item:!0,alignItems:"center",direction:"column"},Object(K.isEmpty)(W)?n.a.createElement(V,null):_)},ee=Object(K.orderBy)([{id:3652462,name:"Quito",coord:{lon:-78.524948,lat:-.22985}},{id:3657509,name:"Guayaquil",coord:{lon:-79.900002,lat:-2.16667}},{id:2643743,name:"London",coord:{lon:-.12574,lat:51.50853}},{id:5128581,name:"New York City",coord:{lon:-74.005966,lat:40.714272}},{id:6359304,name:"Madrid",coord:{lon:-3.68275,lat:40.489349}},{id:5095808,name:"Bogota",coord:{lon:-74.029861,lat:40.876209}},{id:6455259,name:"Paris",coord:{lon:2.35236,lat:48.856461}},{id:4164138,name:"Miami",coord:{lon:-80.193657,lat:25.774269}},{id:6356055,name:"Barcelona",coord:{lon:2.12804,lat:41.399422}},{id:2643123,name:"Manchester",coord:{lon:-2.23743,lat:53.480949}}],["name"],["asc"]),te=function(){var e=Object(u.a)({root:{height:"100vh"}})(),t=Object(u.a)({root:{width:"100%",background:A.a[200],padding:10}})(),a=Object(u.a)({root:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:A.a[300]}})();return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{className:e.root,container:!0},n.a.createElement(i.a,{item:!0,xs:12,sm:12,md:2},n.a.createElement(I,{cities:ee})),n.a.createElement(i.a,{className:t.root,container:!0,item:!0,md:10},n.a.createElement(l.a,{className:a.root},n.a.createElement(m.a,null,n.a.createElement(Z,null))))))};var ae=function(){return n.a.createElement(te,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(94);var re=a(16),ne=a(12),ce={selectedCity:{},currentWeather:{},forecastedWeather:{},historicalWeather:{}},oe=function(e,t){switch(t.type){case"SET_SELECTED_CITY":return Object(ne.a)(Object(ne.a)({},e),{},{selectedCity:t.payload});case"GET_CURRENT_WEATHER":return Object(ne.a)(Object(ne.a)({},e),{},{currentWeather:t.payload});case"GET_FORECAST_WEATHER":return Object(ne.a)(Object(ne.a)({},e),{},{forecastedWeather:t.payload});case"GET_HISTORICAL_WEATHER":return Object(ne.a)(Object(ne.a)({},e),{},{historicalWeather:t.payload});default:return Object(ne.a)({},ce)}},ie=a(58),le=a(59),ue=Object(re.createStore)(oe,Object(le.composeWithDevTools)(Object(re.applyMiddleware)(ie.a)));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(f.a,{store:ue},n.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[65,1,2]]]);
//# sourceMappingURL=main.0ac09fd4.chunk.js.map