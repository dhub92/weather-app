(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{139:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),o=a.n(c),i=(a(80),a(81),a(163)),l=a(170),u=a(162),m=a(164),s=a(17),d=a(159),h=a(171),p=a(161),E=a(20),f=function(e){return{type:"SET_IS_LOADING_VALUE",payload:e}},b=a(30),y=a.n(b),g=a(40),O=a(41),j=a.n(O),w=a(68),v=a(38),W=a.n(v),S=a(59),T=a(169),_=Object(S.extendMoment)(W.a),L=function(e){var t=e.current;return{id:Object(T.a)(),weather:t.weather[0],temperature:t.temp.toFixed(0)+"\xb0C",dayName:C(t.dt)}},N=function(e){var t=e.daily;return Object(w.a)(t).slice(1,t.lenght).map((function(e){return{id:Object(T.a)(),dayName:C(e.dt),temperature:e.temp.day.toFixed(0)+"\xb0C",weather:e.weather[0]}}))},C=function(e){return _.unix(e).format("MMMM D")},k=function(){var e=_.range(_().subtract(5,"day"),_().subtract(1,"day"));return Array.from(e.by("day")).map((function(e){return _(e).format("X")}))},I="https://api.openweathermap.org/data/2.5/onecall",A="2edd39c7c1d23b84acf5634f1c6fd741",R=function(e,t,a){return j.a.get("".concat(I,"/timemachine?lat=").concat(e,"&lon=").concat(t,"&dt=").concat(a,"&units=metric&appid=").concat(A)).then((function(e){return e.data})).catch((function(e){return console.log("Error",e)}))},x=function(e){var t=e.cities,a=Object(r.useState)(null),c=Object(s.a)(a,2),o=c[0],i=c[1],l=Object(E.b)(),u=function(e,a){l(f(!0)),i(a),l({type:"SET_SELECTED_CITY",payload:t[a]}),l(function(e){var t=e.lat,a=e.lon;return function(){var e=Object(g.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.a.get("".concat(I,"?lat=").concat(t,"&lon=").concat(a,"&exclude=minutely,hourly&units=metric&appid=").concat(A)).then((function(e){r(f(!1)),r({type:"GET_CURRENT_WEATHER",payload:L(e.data)}),r({type:"GET_FORECAST_WEATHER",payload:N(e.data)})})).catch((function(e){return console.log("Error",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t[a].coord)),l(function(e){var t=e.lat,a=e.lon;return function(){var e=Object(g.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all(k().map((function(e){return R(t,a,e)}))).then((function(e){return r({type:"GET_HISTORICAL_WEATHER",payload:e.map((function(e){return{id:Object(T.a)(),dayName:C(e.current.dt),temperature:e.current.temp.toFixed(0)+"\xb0C",weather:e.current.weather[0]}}))})})).catch((function(e){return e}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t[a].coord))};return n.a.createElement(d.a,{component:"nav"},t.map((function(e,t){return n.a.createElement(h.a,{key:e.id,button:!0,selected:o===t,onClick:function(e){return u(0,t)}},n.a.createElement(p.a,{inset:!0,primary:e.name}))})))},M=a(37),G=a(165),F=a(166),H=a(167),z=a(31),B=Object(u.a)({root:{fontWeight:100,fontSize:100,color:M.a[800]}}),D=Object(u.a)({root:{fontSize:15,color:M.a[600]}}),U=function(e){var t=e.isLarge,a=void 0!==t&&t,r=e.children,c=B(),o=D();return n.a.createElement(z.a,{className:a?c.root:o.root},r)},Y=Object(u.a)({root:{fontSize:40,color:M.a[600]}}),q=Object(u.a)({root:{fontSize:15,color:M.a[600]}}),J=function(e){var t=e.children,a=e.isLarge,r=void 0!==a&&a,c=Y(),o=q();return n.a.createElement(z.a,{className:r?c.root:o.root},t)},P=a(42),V=a.n(P),X=function(e){var t=e.icon,a=void 0===t?"":t,r=e.description,c=void 0===r?"":r,o=e.isLarge,i=void 0!==o&&o,l="http://openweathermap.org/img/wn/".concat(a,"@2x.png");return n.a.createElement("img",{className:i?V.a.large:V.a.small,src:l,alt:c})},Q=function(e){var t=e.dayName,a=e.temperature,r=e.weather,c=e.isLarge;return n.a.createElement(i.a,{container:!0,justify:"center",alignItems:"center",direction:"column"},n.a.createElement(J,{isLarge:c},t),n.a.createElement(X,{icon:r.icon,description:r.description,isLarge:c}),n.a.createElement(U,{isLarge:c},a))},$=function(e){var t=e.weatherList;return n.a.createElement(i.a,{container:!0,alignContent:"space-between",justify:"center",spacing:1},t.map((function(e){var t=e.dayName,a=e.temperature,r=e.weather,c=e.id;return n.a.createElement(i.a,{key:c,item:!0},n.a.createElement(l.a,null,n.a.createElement(m.a,null,n.a.createElement(Q,{dayName:t,temperature:a,weather:r,isLarge:!1}))))})))},K=a(29),Z=function(){var e=Object(u.a)({root:{fontSize:50,fontWeight:200,color:M.a[800]}})(),t=Object(u.a)({root:{fontSize:30,fontWeight:200,color:M.a[700]}})();return n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,{className:e.root},"Welcome to the weather app"),n.a.createElement(z.a,{className:t.root},"Select a city to show its weather"))},ee=a(63),te=function(){var e=Object(u.a)({root:{width:"100%"}})(),t=Object(r.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(r.useState)(""),m=Object(s.a)(l,2),d=m[0],h=m[1],p=Object(r.useState)(!1),f=Object(s.a)(p,2),b=f[0],y=f[1],g=Object(r.useState)(!1),O=Object(s.a)(g,2),j=O[0],w=O[1],v=Object(E.c)((function(e){return{currentWeather:e.currentWeather,forecastedWeather:e.forecastedWeather,historicalWeather:e.historicalWeather,isLoading:e.isLoading}})),W=v.currentWeather,S=v.forecastedWeather,T=v.historicalWeather,_=v.isLoading;Object(r.useEffect)((function(){Object(K.isEmpty)(W)||(h(W.temperature),o(W.dayName))}),[W]);var L=n.a.createElement(n.a.Fragment,null,n.a.createElement(Q,{dayName:c,temperature:d,weather:W.weather,isLarge:!0}),n.a.createElement(G.a,{row:!0},n.a.createElement(F.a,{control:n.a.createElement(H.a,{checked:b,onChange:function(){y(!b),w(!1)},name:"checkedB",color:"primary"}),label:"Show the latest 5 days "}),n.a.createElement(F.a,{control:n.a.createElement(H.a,{checked:j,onChange:function(){w(!j),y(!1)},name:"checkedB",color:"primary"}),label:"Show the predicted 7 days"})),n.a.createElement("br",null),b&&n.a.createElement($,{weatherList:T}),j&&n.a.createElement($,{weatherList:S}));return n.a.createElement(i.a,{className:e.root,container:!0,item:!0,alignItems:"center",direction:"column"},Object(K.isEmpty)(W)?n.a.createElement(Z,null):_?n.a.createElement(ee.DisappearedLoading,{style:{},size:"large",color:M.a[600]}):L)},ae=Object(K.orderBy)([{id:3652462,name:"Quito",coord:{lon:-78.524948,lat:-.22985}},{id:3657509,name:"Guayaquil",coord:{lon:-79.900002,lat:-2.16667}},{id:2643743,name:"London",coord:{lon:-.12574,lat:51.50853}},{id:5128581,name:"New York City",coord:{lon:-74.005966,lat:40.714272}},{id:6359304,name:"Madrid",coord:{lon:-3.68275,lat:40.489349}},{id:5095808,name:"Bogota",coord:{lon:-74.029861,lat:40.876209}},{id:6455259,name:"Paris",coord:{lon:2.35236,lat:48.856461}},{id:4164138,name:"Miami",coord:{lon:-80.193657,lat:25.774269}},{id:6356055,name:"Barcelona",coord:{lon:2.12804,lat:41.399422}},{id:2643123,name:"Manchester",coord:{lon:-2.23743,lat:53.480949}}],["name"],["asc"]),re=function(){var e=Object(u.a)({root:{height:"100vh"}})(),t=Object(u.a)({root:{width:"100%",background:M.a[200],padding:10}})(),a=Object(u.a)({root:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:M.a[300]}})();return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{className:e.root,container:!0},n.a.createElement(i.a,{item:!0,xs:12,sm:12,md:2},n.a.createElement(x,{cities:ae})),n.a.createElement(i.a,{className:t.root,container:!0,item:!0,md:10},n.a.createElement(l.a,{className:a.root},n.a.createElement(m.a,null,n.a.createElement(te,null))))))};var ne=function(){return n.a.createElement(re,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(138);var ce=a(19),oe=a(12),ie={selectedCity:{},currentWeather:{},forecastedWeather:[{}],historicalWeather:[{}],isLoading:!0},le=function(e,t){switch(t.type){case"SET_SELECTED_CITY":return Object(oe.a)(Object(oe.a)({},e),{},{selectedCity:t.payload});case"GET_CURRENT_WEATHER":return Object(oe.a)(Object(oe.a)({},e),{},{currentWeather:t.payload});case"GET_FORECAST_WEATHER":return Object(oe.a)(Object(oe.a)({},e),{},{forecastedWeather:t.payload});case"GET_HISTORICAL_WEATHER":return Object(oe.a)(Object(oe.a)({},e),{},{historicalWeather:t.payload});case"SET_IS_LOADING_VALUE":return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:t.payload});default:return Object(oe.a)({},ie)}},ue=a(66),me=a(67),se=Object(ce.createStore)(le,Object(me.composeWithDevTools)(Object(ce.applyMiddleware)(ue.a)));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E.a,{store:se},n.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},42:function(e,t,a){e.exports={large:"WeatherImage_large__1t55a",small:"WeatherImage_small__qX4aT"}},75:function(e,t,a){e.exports=a(139)},80:function(e,t,a){},81:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.75178632.chunk.js.map